<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1. 网络介绍 #   多台独立自主的计算机互联的总称叫计算机网络 实现信息互联与资源共享 网络接口 &ndash;> 网络 &ndash;> 传输 &ndash;> 应用 Inernet 因特网 基于TCP/IP Model 的网络 ​  1. 1 TCP 可靠传输协议 #    传输控制协议 Transfer Control Protocol
 可靠通信(数据不会穿丢也不会传错) 流量控制 自动调节发送数据的速度 拥塞控制 网络拥堵时会降低发送速率    可靠通讯的实现:
 如何保证数据不会传输错误 握手机制 + 在数据中添加冗余校验对发送的数据 进行校验    流量控制:
 滑动窗口机制 逐步增加发送的数据大小    拥塞控制:
 减小滑动窗口 减小发送速率    1.2 UDP #   User Datagram Protocol 用户数据宝协议  数据可能会丢失某部分内容 只要不影响使用 列如视屏 不会影响用户的使用    2."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="04-网络编程-TCP-UDP-BS64"><meta property="og:description" content="1. 网络介绍 #   多台独立自主的计算机互联的总称叫计算机网络 实现信息互联与资源共享 网络接口 &ndash;> 网络 &ndash;> 传输 &ndash;> 应用 Inernet 因特网 基于TCP/IP Model 的网络 ​  1. 1 TCP 可靠传输协议 #    传输控制协议 Transfer Control Protocol
 可靠通信(数据不会穿丢也不会传错) 流量控制 自动调节发送数据的速度 拥塞控制 网络拥堵时会降低发送速率    可靠通讯的实现:
 如何保证数据不会传输错误 握手机制 + 在数据中添加冗余校验对发送的数据 进行校验    流量控制:
 滑动窗口机制 逐步增加发送的数据大小    拥塞控制:
 减小滑动窗口 减小发送速率    1.2 UDP #   User Datagram Protocol 用户数据宝协议  数据可能会丢失某部分内容 只要不影响使用 列如视屏 不会影响用户的使用    2."><meta property="og:type" content="article"><meta property="og:url" content="http://lanms.github.io/docs/01-python%E5%9F%BA%E7%A1%80/04-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-tcp-udp-bs64/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-04-30T16:55:47+00:00"><meta property="article:modified_time" content="2022-04-30T16:55:47+00:00"><title>04-网络编程-TCP-UDP-BS64 | 工具书-mlzhang</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.9e9b2b5ce92d0bf3509a2184bb06a428c88132c82fa27d13e374a6d65a01ec7a.js integrity="sha256-npsrXOktC/NQmiGEuwakKMiBMsgvon0T43Sm1loB7Ho=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>工具书-mlzhang</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-402f74934f1515515a615615d8ce0e9b class=toggle>
<label for=section-402f74934f1515515a615615d8ce0e9b class="flex justify-between"><a role=button>hugo-book</a></label><ul><li><a href=/docs/00-hugo-book/hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/>Hugo搭建博客</a></li><li><a href=/docs/00-hugo-book/github%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E6%89%98%E7%AE%A1/>Github静态页面托管</a></li><li><a href=/docs/00-hugo-book/%E6%B7%BB%E5%8A%A0%E9%98%BF%E9%87%8C%E4%BA%91%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/>添加阿里云域名解析</a></li></ul></li><li><input type=checkbox id=section-4ac78bf9efbed769db3bdcc4fadfc3a2 class=toggle checked>
<label for=section-4ac78bf9efbed769db3bdcc4fadfc3a2 class="flex justify-between"><a role=button>01-python基础</a></label><ul><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/01-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C-os%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E5%AF%B9%E8%B1%A1-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E8%BF%99%E6%AD%A3%E5%88%99/>01-字符串操作-os文件操作-时间日期对象-面向对象-这正则</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/02-%E5%87%BD%E6%95%B0-reduce-map-nonloca/>02-函数-reduce()-map()-nonloca</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/03-stringio/>03-stringIO</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/04-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-tcp-udp-bs64/ class=active>04-网络编程-TCP-UDP-BS64</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/05-yield%E5%87%BD%E6%95%B0/>05-yield函数</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/06-python%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/>06-Python操作数据库</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/07-%E8%A3%85%E9%A5%B0%E5%99%A8/>07-装饰器</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/08-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0/>08-递归函数</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/09-%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B/>09-线程和进程</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/10-%E5%8D%8F%E7%A8%8B%E5%92%8Caiohttp/>10-协程和aiohttp</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/11-%E5%85%83%E7%B1%BB/>11-元类</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/12-anaconda%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/>12-Anaconda创建虚拟环境</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/13-py2%E5%92%8Cpy3%E7%9A%84%E5%8C%BA%E5%88%AB/>13-py2和py3的区别</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/14-%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95%E6%B1%87%E6%80%BB/>14-函数的用法汇总</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/15-python%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%BA%93/>15-python内置函数库</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/shell%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/>shell脚本语言</a></li><li><a href=/docs/01-python%E5%9F%BA%E7%A1%80/%E4%B8%80%E4%BA%9B%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/>一些函数的用法</a></li></ul></li><li><input type=checkbox id=section-ee5f1d736f38101aa1387ddb1895afd8 class=toggle>
<label for=section-ee5f1d736f38101aa1387ddb1895afd8 class="flex justify-between"><a role=button>02-前端HTML-js-css</a></label><ul><li><a href=/docs/02-%E5%89%8D%E7%AB%AFhtml-js-css/01-html%E6%A0%87%E7%AD%BE%E5%92%8Ccss%E6%A0%B7%E5%BC%8F%E8%A1%A8/>01-HTML标签和CSS样式表</a></li><li><a href=/docs/02-%E5%89%8D%E7%AB%AFhtml-js-css/02-javascript-jquary-ajax/>02-Javascript-JQuary-Ajax</a></li><li><a href=/docs/02-%E5%89%8D%E7%AB%AFhtml-js-css/js%E4%B8%ADcookie%E5%80%BC%E7%9A%84%E8%AE%BE%E7%BD%AE%E5%92%8C%E8%8E%B7%E5%8F%96/>js中cookie值的设置和获取</a></li></ul></li><li><input type=checkbox id=section-8cca7d9cdaa4fd0ac0539752bdf7b4d6 class=toggle>
<label for=section-8cca7d9cdaa4fd0ac0539752bdf7b4d6 class="flex justify-between"><a role=button>03-Git</a></label><ul><li><a href=/docs/03-git/01-git%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95%E5%92%8C%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/>01-Git基本用法和工作流程</a></li><li><a href=/docs/03-git/02-git%E8%BF%9B%E9%98%B6/>02-Git进阶</a></li><li><a href=/docs/03-git/03-git%E5%9B%A2%E9%98%9F%E5%BC%80%E5%8F%91/>03-Git团队开发</a></li><li><a href=/docs/03-git/04-git%E5%88%AB%E5%90%8Dalias/>04-Git别名alias</a></li><li><a href=/docs/03-git/05-gitattributes%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7/>05-gitattributes设置文件属性</a></li><li><a href=/docs/03-git/06-gitignore%E8%AE%BE%E7%BD%AE/>06-gitignore设置</a></li><li><a href=/docs/03-git/07-git_flow%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/>07-Git_Flow使用方法</a></li><li><a href=/docs/03-git/08-tox%E4%BD%BF%E7%94%A8/>08-tox使用</a></li><li><a href=/docs/03-git/09-git_rebase/>09-git_rebase</a></li><li><a href=/docs/03-git/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/>常用命令</a></li></ul></li><li><input type=checkbox id=section-4da4af1a651273d9ba8c2dff9ae4706f class=toggle>
<label for=section-4da4af1a651273d9ba8c2dff9ae4706f class="flex justify-between"><a role=button>04-数据库</a></label><ul><li><a href=/docs/04-%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E5%B0%8F%E7%BB%93/>各种数据库读写分离小结</a></li></ul></li><li><input type=checkbox id=section-d2d2f644095dd7a076c04eb644e8556b class=toggle>
<label for=section-d2d2f644095dd7a076c04eb644e8556b class="flex justify-between"><a role=button>05-Linux</a></label><ul><li><a href=/docs/05-linux/01-linux%E6%93%8D%E4%BD%9C%E9%98%BF%E9%87%8C%E4%BA%91%E4%B8%BB%E6%9C%BA/>01-Linux操作,阿里云主机</a></li><li><a href=/docs/05-linux/02-linux%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%98%B2%E7%81%AB%E5%A2%99/>02-Linux安装软件服务器,防火墙</a></li><li><a href=/docs/05-linux/03-vim%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/>03-vim文本编辑器</a></li><li><a href=/docs/05-linux/04-redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/>04-redis安装配置</a></li><li><a href=/docs/05-linux/05-%E5%AE%9A%E6%97%B6%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC%E4%BB%BB%E5%8A%A1/>05-定时执行脚本任务</a></li><li><a href=/docs/05-linux/06-linux%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/>06-Linux操作命令</a></li><li><a href=/docs/05-linux/07-linux%E5%91%BD%E4%BB%A4cat-find/>07-Linux命令cat-find</a></li><li><a href=/docs/05-linux/08-centos7%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A9%E5%B1%95%E7%A3%81%E7%9B%98/>08-Centos7虚拟机扩展磁盘</a></li><li><a href=/docs/05-linux/09-alias%E7%BC%96%E8%BE%91%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/>09-alias编辑系统命令</a></li><li><a href=/docs/05-linux/10-linux%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E5%91%BD%E4%BB%A4/>10-Linux安装工具命令</a></li><li><a href=/docs/05-linux/10-ubantu%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E5%91%BD%E4%BB%A4/>10-ubantu安装工具命令</a></li></ul></li><li><input type=checkbox id=section-fcaf79fa010525235e9c02d2292c09e1 class=toggle>
<label for=section-fcaf79fa010525235e9c02d2292c09e1 class="flex justify-between"><a role=button>06-Django</a></label><ul></ul></li><li><input type=checkbox id=section-34e22bee867c2ec9604e9fe143e7bc00 class=toggle>
<label for=section-34e22bee867c2ec9604e9fe143e7bc00 class="flex justify-between"><a role=button>07-Flask</a></label><ul></ul></li><li><input type=checkbox id=section-db15b7fa49c62b26be2b9a42b704ae65 class=toggle>
<label for=section-db15b7fa49c62b26be2b9a42b704ae65 class="flex justify-between"><a role=button>08-Tornado</a></label><ul><li><a href=/docs/08-tornado/01-%E5%9F%BA%E7%A1%80%E5%BC%80%E5%A7%8Btornado/>01-基础开始tornado</a></li><li><a href=/docs/08-tornado/02-options%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96/>02-options参数获取</a></li><li><a href=/docs/08-tornado/03-%E8%AF%B7%E6%B1%82%E6%A0%B8%E5%93%8D%E5%BA%9401/>03-请求核响应01</a></li><li><a href=/docs/08-tornado/%E9%83%A8%E7%BD%B2%E6%96%B9%E6%B3%95/>部署方法</a></li></ul></li><li><input type=checkbox id=section-ffe29355398cb5e5fbcb7014db51e385 class=toggle>
<label for=section-ffe29355398cb5e5fbcb7014db51e385 class="flex justify-between"><a role=button>09-爬虫Scrapy</a></label><ul></ul></li><li><input type=checkbox id=section-89d843abaf0e16c5973def7508f4dea9 class=toggle>
<label for=section-89d843abaf0e16c5973def7508f4dea9 class="flex justify-between"><a role=button>10-优化</a></label><ul><li><a href=/docs/10-%E4%BC%98%E5%8C%96/celery%E5%92%8Crabbitmq/>Celery和RabbitMQ</a></li><li><a href=/docs/10-%E4%BC%98%E5%8C%96/mysql%E4%B8%BB%E4%BB%8E%E5%88%86%E7%A6%BB/>MySQL主从分离</a></li><li><a href=/docs/10-%E4%BC%98%E5%8C%96/mysql%E4%BC%98%E5%8C%96/>MySQL优化</a></li><li><a href=/docs/10-%E4%BC%98%E5%8C%96/%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0/>临时笔记</a></li><li><a href=/docs/10-%E4%BC%98%E5%8C%96/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/>单元测试</a></li></ul></li><li><input type=checkbox id=section-572e721f6e43078bfa32034e84bbe4b4 class=toggle>
<label for=section-572e721f6e43078bfa32034e84bbe4b4 class="flex justify-between"><a role=button>11-Python设计模式</a></label><ul><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/00-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D/>00-Python设计模式介绍</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/>01-工厂模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/02-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/>02-建造者模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/03-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/>03-原型模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/04-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/>04-适配器模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/05-%E4%BF%AE%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/>05-修饰器模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/06-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/>06-外观模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/07-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/>07-享元模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/08-mvc%E6%A8%A1%E5%BC%8F/>08-MVC模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/09-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/>09-代理模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/10-%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/>10-责任链模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/11-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/>11-命令模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/12-%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F/>12-解释器模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/13-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/>13-观察者模式</a></li><li><a href=/docs/11-python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/14-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/>14-状态模式</a></li></ul></li><li><input type=checkbox id=section-601bd63086df0516f1ded16b28f48a23 class=toggle>
<label for=section-601bd63086df0516f1ded16b28f48a23 class="flex justify-between"><a role=button>12-机器学习数据分析sklearn</a></label><ul></ul></li><li><input type=checkbox id=section-4a497c000e3d6340562da26fb030ea6b class=toggle>
<label for=section-4a497c000e3d6340562da26fb030ea6b class="flex justify-between"><a role=button>13-tensorflow</a></label><ul><li><a href=/docs/13-tensorflow/01-tensorflow%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/>01-tensorflow环境搭建</a></li><li><a href=/docs/13-tensorflow/02-tf%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%92%8C%E6%A8%A1%E6%8B%9F%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/>02-tf基础知识和模拟线性回归</a></li><li><a href=/docs/13-tensorflow/03-%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4/>03-基础指令</a></li></ul></li><li><input type=checkbox id=section-1b4820c28a98067c0fef5225173ee99e class=toggle>
<label for=section-1b4820c28a98067c0fef5225173ee99e class="flex justify-between"><a role=button>14-docker</a></label><ul><li><a href=/docs/14-docker/01-centos7%E5%AE%89%E8%A3%85docker/>01-CentOS7安装docker</a></li><li><a href=/docs/14-docker/02-docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/>02-Docker常用命令</a></li><li><a href=/docs/14-docker/03-docker-compose.yaml%E9%85%8D%E7%BD%AE/>03-docker-compose</a></li></ul></li><li><input type=checkbox id=section-7fe75dce01e7dbdc6caf2191b7f35824 class=toggle>
<label for=section-7fe75dce01e7dbdc6caf2191b7f35824 class="flex justify-between"><a role=button>15-集成开发</a></label><ul><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/01-git_flow%E5%B7%A5%E4%BD%9C%E6%B5%81%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/>01-git_flow工作流使用指南</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/02-jenkins%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%9701/>02-jenkins配置指南01</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/03-jenkins%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%9702/>03-jenkins配置指南02</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/05-pycharm%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E9%9B%86%E6%88%90%E8%AE%BE%E7%BD%AE/>05-Pycharm代码风格集成设置</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/06-pycharm%E9%9B%86%E6%88%90%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7/>06-Pycharm集成检查工具</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/08-tox%E9%9B%86%E6%88%90%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/>08-tox集成使用指南</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/10-git_rebase/>10-git_rebase</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/celery%E7%9A%84%E4%BD%BF%E7%94%A8/>celery的使用</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/docker%E4%BD%BF%E7%94%A8/>Docker使用</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/memcached%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%90%AF%E5%8A%A8/>memcached的安装和启动</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/rabbitmq%E4%BD%BF%E7%94%A8/>rabbitmq使用</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/scrapyd%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/>scrapyd使用方法</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/spiderkeeper%E6%8E%A5%E5%8F%A3/>spiderKeeper接口</a></li><li><a href=/docs/15-%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91/%E5%91%BD%E4%BB%A4/>命令</a></li></ul></li><li><input type=checkbox id=section-ad28360255e5707f82f748667937828d class=toggle>
<label for=section-ad28360255e5707f82f748667937828d class="flex justify-between"><a role=button>16-面试题</a></label><ul></ul></li><li><input type=checkbox id=section-9ae7bb7204f29d395ff4374aa648c2d6 class=toggle>
<label for=section-9ae7bb7204f29d395ff4374aa648c2d6 class="flex justify-between"><a role=button>17-emacs</a></label><ul><li><a href=/docs/17-emacs/emacs%E9%85%8D%E7%BD%AE/>emacs配置</a></li></ul></li><li><input type=checkbox id=section-e2a7cdf3c35751c10fd1e5474ec25934 class=toggle>
<label for=section-e2a7cdf3c35751c10fd1e5474ec25934 class="flex justify-between"><a role=button>18-安装脚本</a></label><ul><li><a href=/docs/18-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/nginx_uwsgi/>Nginx_uwsgi</a></li><li><a href=/docs/18-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/%E5%AE%89%E8%A3%85mariadb/>安装mariaDB</a></li><li><a href=/docs/18-%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/%E5%AE%89%E8%A3%85python3.6/>安装python3</a></li></ul></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>04-网络编程-TCP-UDP-BS64</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#1-网络介绍>1. 网络介绍</a><ul><li><a href=#1-1-tcp---可靠传输协议>1. 1 TCP 可靠传输协议</a></li><li><a href=#12-udp>1.2 UDP</a></li></ul></li><li><a href=#2--应用实例--网络扒图片>2. 应用实例 网络扒图片</a></li><li><a href=#3-网络编程--服务器--客户端>3. 网络编程 服务器 客户端</a><ul><li><a href=#3-1-套接字编程---socket>3 .1 套接字编程 socket()</a></li><li><a href=#emample--用服务器与客户端结合实现猜数字游戏>emample 用服务器与客户端结合实现猜数字游戏</a></li></ul></li><li><a href=#4-base-64-编码>4. BASE 64 编码</a><ul><li><a href=#41-处理方法--示例>4.1 处理方法 示例</a></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=1-网络介绍>1. 网络介绍
<a class=anchor href=#1-%e7%bd%91%e7%bb%9c%e4%bb%8b%e7%bb%8d>#</a></h2><ul><li>多台独立自主的计算机互联的总称叫计算机网络</li><li>实现信息互联与资源共享</li><li>网络接口 &ndash;> 网络 &ndash;> 传输 &ndash;> 应用</li><li>Inernet 因特网 基于TCP/IP Model 的网络</li><li>​</li></ul><h3 id=1-1-tcp---可靠传输协议>1. 1 TCP 可靠传输协议
<a class=anchor href=#1-1-tcp---%e5%8f%af%e9%9d%a0%e4%bc%a0%e8%be%93%e5%8d%8f%e8%ae%ae>#</a></h3><ul><li><p>传输控制协议 Transfer Control Protocol</p><ul><li>可靠通信(数据不会穿丢也不会传错)</li><li>流量控制 自动调节发送数据的速度</li><li>拥塞控制 网络拥堵时会降低发送速率</li></ul></li><li><p>可靠通讯的实现:</p><ul><li>如何保证数据不会传输错误</li><li>握手机制 + 在数据中添加冗余校验对发送的数据 进行校验</li></ul></li><li><p>流量控制:</p><ul><li>滑动窗口机制 逐步增加发送的数据大小</li></ul></li><li><p>拥塞控制:</p><ul><li>减小滑动窗口 减小发送速率</li></ul></li></ul><h3 id=12-udp>1.2 UDP
<a class=anchor href=#12-udp>#</a></h3><ul><li>User Datagram Protocol 用户数据宝协议<ul><li>数据可能会丢失某部分内容 只要不影响使用 列如视屏 不会影响用户的使用</li></ul></li></ul><h2 id=2--应用实例--网络扒图片>2. 应用实例 网络扒图片
<a class=anchor href=#2--%e5%ba%94%e7%94%a8%e5%ae%9e%e4%be%8b--%e7%bd%91%e7%bb%9c%e6%89%92%e5%9b%be%e7%89%87>#</a></h2><ul><li>通过天行数据提供的数据接口</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> requests<span style=color:#f92672>,</span> json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_file</span>(path):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    在url中查找图片
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    :param path:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    :return:   查找结果
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    resp <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(path)
</span></span><span style=display:flex><span>    url_dict <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>loads(resp<span style=color:#f92672>.</span>text, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>    i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> new_dict <span style=color:#f92672>in</span> url_dict[<span style=color:#e6db74>&#39;newslist&#39;</span>]:
</span></span><span style=display:flex><span>        url <span style=color:#f92672>=</span> new_dict[<span style=color:#e6db74>&#39;picUrl&#39;</span>]
</span></span><span style=display:flex><span>        resp_new <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>get(url)
</span></span><span style=display:flex><span>        print(resp_new<span style=color:#f92672>.</span>content)
</span></span><span style=display:flex><span>        i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open (<span style=color:#e6db74>&#39;</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>.jpg&#39;</span> <span style=color:#f92672>%</span> i, <span style=color:#e6db74>&#39;wb&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>            f<span style=color:#f92672>.</span>write(resp_new<span style=color:#f92672>.</span>content)
</span></span><span style=display:flex><span>            print(i)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;下载完成&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>rm_picture</span>(path):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    删除jpg格式文件
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    :param path: 删除的文件夹
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    list_file <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>listdir(path)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> file <span style=color:#f92672>in</span> list_file:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> file[file<span style=color:#f92672>.</span>rindex(<span style=color:#e6db74>&#39;.&#39;</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>:] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;jpg&#39;</span>:
</span></span><span style=display:flex><span>            os<span style=color:#f92672>.</span>remove(file)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;图片删除完毕&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>path_file <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;../day18&#39;</span>
</span></span><span style=display:flex><span>path_url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;http://api.tianapi.com/meinv/?key=&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#75715e># get_file(path_url)</span>
</span></span><span style=display:flex><span>    rm_picture(path_file)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><h2 id=3-网络编程--服务器--客户端>3. 网络编程 服务器 客户端
<a class=anchor href=#3-%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b--%e6%9c%8d%e5%8a%a1%e5%99%a8--%e5%ae%a2%e6%88%b7%e7%ab%af>#</a></h2><h3 id=3-1-套接字编程---socket>3 .1 套接字编程 socket()
<a class=anchor href=#3-1-%e5%a5%97%e6%8e%a5%e5%ad%97%e7%bc%96%e7%a8%8b---socket>#</a></h3><ul><li>服务器与客户端 代码实现实例</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>********</span>     服务器        <span style=color:#75715e>#### 套接字编程  socket()</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> socket <span style=color:#f92672>import</span> socket
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>servey</span>():
</span></span><span style=display:flex><span>    ser_temp <span style=color:#f92672>=</span> socket()
</span></span><span style=display:flex><span>    ser_temp<span style=color:#f92672>.</span>bind((<span style=color:#e6db74>&#39;10.7.152.105&#39;</span>, <span style=color:#ae81ff>7779</span>))
</span></span><span style=display:flex><span>    ser_temp<span style=color:#f92672>.</span>listen()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        client, addr <span style=color:#f92672>=</span> ser_temp<span style=color:#f92672>.</span>accept()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:     <span style=color:#75715e>#  必须有这个循环才能一直接受一个客户的消息, 没有循环只能接收一次</span>
</span></span><span style=display:flex><span>            get_msg <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>recv(<span style=color:#ae81ff>1024</span>)<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>            print(get_msg)
</span></span><span style=display:flex><span>            sed_msg <span style=color:#f92672>=</span> input(<span style=color:#e6db74>&#39;服务器:&#39;</span>)<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>            client<span style=color:#f92672>.</span>send(sed_msg)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#f92672>***********</span>   客户端  <span style=color:#f92672>***********************</span>         
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> socket <span style=color:#f92672>import</span> socket
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>client</span>():
</span></span><span style=display:flex><span>    client <span style=color:#f92672>=</span> socket()
</span></span><span style=display:flex><span>    client<span style=color:#f92672>.</span>connect((<span style=color:#e6db74>&#39;10.7.152.105&#39;</span>, <span style=color:#ae81ff>7779</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        msg <span style=color:#f92672>=</span> input(<span style=color:#e6db74>&#39;客户端:&#39;</span>)<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>        client<span style=color:#f92672>.</span>send(msg)
</span></span><span style=display:flex><span>        get_msg <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>recv(<span style=color:#ae81ff>1024</span>)<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>        print(get_msg)
</span></span></code></pre></div><h3 id=emample--用服务器与客户端结合实现猜数字游戏>emample 用服务器与客户端结合实现猜数字游戏
<a class=anchor href=#emample--%e7%94%a8%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8e%e5%ae%a2%e6%88%b7%e7%ab%af%e7%bb%93%e5%90%88%e5%ae%9e%e7%8e%b0%e7%8c%9c%e6%95%b0%e5%ad%97%e6%b8%b8%e6%88%8f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#服务器</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> random <span style=color:#f92672>import</span> randint
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> socket <span style=color:#f92672>import</span> socket
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> time <span style=color:#f92672>import</span> sleep
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Robot</span>(object):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>answer <span style=color:#f92672>=</span> randint(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_hint <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@property</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hint</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_hint
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>judge</span>(self, yours):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> yours <span style=color:#f92672>&gt;</span> self<span style=color:#f92672>.</span>answer:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_hint <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;请输入小一点&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> yours <span style=color:#f92672>&lt;</span> self<span style=color:#f92672>.</span>answer:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_hint <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;请输入大一点&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_hint <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;猜对了,但没有奖励....&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>count <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>7</span>:
</span></span><span style=display:flex><span>                self<span style=color:#f92672>.</span>_hint <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>智商真捉急!!!&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>  <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    robot <span style=color:#f92672>=</span> Robot()
</span></span><span style=display:flex><span>    server <span style=color:#f92672>=</span> socket()
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>bind((<span style=color:#e6db74>&#39;10.7.152.105&#39;</span>, <span style=color:#ae81ff>9669</span>))
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>listen(<span style=color:#ae81ff>512</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;服务器开启...&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        client, addr <span style=color:#f92672>=</span> server<span style=color:#f92672>.</span>accept()
</span></span><span style=display:flex><span>        print(addr)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>            get_msg <span style=color:#f92672>=</span> int(client<span style=color:#f92672>.</span>recv(<span style=color:#ae81ff>1024</span>)<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;</span> get_msg <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>100</span>:
</span></span><span style=display:flex><span>                robot<span style=color:#f92672>.</span>judge(get_msg)
</span></span><span style=display:flex><span>                out_msg <span style=color:#f92672>=</span> robot<span style=color:#f92672>.</span>hint
</span></span><span style=display:flex><span>                client<span style=color:#f92672>.</span>send(out_msg<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                out_msg <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;输入有误,重新输入&#39;</span>
</span></span><span style=display:flex><span>                client<span style=color:#f92672>.</span>send(out_msg<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;服务器关闭.....&#39;</span>)
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>close()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    \<span style=color:#f92672>****************************************</span>\
</span></span><span style=display:flex><span>    <span style=color:#75715e># 客户端</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> socket <span style=color:#f92672>import</span> socket
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    client <span style=color:#f92672>=</span> socket()
</span></span><span style=display:flex><span>    client<span style=color:#f92672>.</span>connect((<span style=color:#e6db74>&#39;10.7.152.105&#39;</span>, <span style=color:#ae81ff>9669</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        numstr <span style=color:#f92672>=</span> input(<span style=color:#e6db74>&#39;输入数字:&#39;</span>)
</span></span><span style=display:flex><span>        client<span style=color:#f92672>.</span>send(numstr<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>        in_msg <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>recv(<span style=color:#ae81ff>1024</span>)<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>        print(in_msg)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;客户端断开连接&#39;</span>)
</span></span><span style=display:flex><span>    client<span style=color:#f92672>.</span>close()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><h2 id=4-base-64-编码>4. BASE 64 编码
<a class=anchor href=#4-base-64-%e7%bc%96%e7%a0%81>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>将二进制数据变为有64种符号表示的文本
</span></span><span style=display:flex><span><span style=color:#ae81ff>011011001100001111010011</span>
</span></span><span style=display:flex><span>将二进制编码每6位分开
</span></span></code></pre></div><h3 id=41-处理方法--示例>4.1 处理方法 示例
<a class=anchor href=#41-%e5%a4%84%e7%90%86%e6%96%b9%e6%b3%95--%e7%a4%ba%e4%be%8b>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>用一个字典的 键值对 形式保存要发送的数据
</span></span><span style=display:flex><span>将字典处理成 JSON 格式进行传输
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>JSON 只能是纯文本   用 BSAE64 处理二进制数据 
</span></span><span style=display:flex><span>    dumps()处理二进制数据
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>\<span style=color:#f92672>***********************</span>       服务器
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> socket <span style=color:#f92672>import</span> socket, SOCK_STREAM, AF_INET
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> base64 <span style=color:#f92672>import</span> b64encode
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> json <span style=color:#f92672>import</span> dumps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#75715e># 1.创建套接字对象并指定使用哪种传输服务</span>
</span></span><span style=display:flex><span>    server <span style=color:#f92672>=</span> socket()
</span></span><span style=display:flex><span>    <span style=color:#75715e># 2.绑定IP地址和端口(区分不同的服务)</span>
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>bind((<span style=color:#e6db74>&#39;10.7.152.69&#39;</span>, <span style=color:#ae81ff>5566</span>))
</span></span><span style=display:flex><span>    <span style=color:#75715e># 3.开启监听 - 监听客户端连接到服务器</span>
</span></span><span style=display:flex><span>    server<span style=color:#f92672>.</span>listen(<span style=color:#ae81ff>512</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;服务器启动开始监听...&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;memory.png&#39;</span>, <span style=color:#e6db74>&#39;rb&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>        <span style=color:#75715e># 将二进制数据处理成base64再解码成字符串</span>
</span></span><span style=display:flex><span>        data <span style=color:#f92672>=</span> b64encode(f<span style=color:#f92672>.</span>read())<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        client, addr <span style=color:#f92672>=</span> server<span style=color:#f92672>.</span>accept()
</span></span><span style=display:flex><span>        <span style=color:#75715e># 用一个字典(键值对)来保存要发送的各种数据</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># 待会可以将字典处理成JSON格式在网络上传递</span>
</span></span><span style=display:flex><span>        my_dict <span style=color:#f92672>=</span> dict({})
</span></span><span style=display:flex><span>        my_dict[<span style=color:#e6db74>&#39;filename&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;memory.png&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># JSON是纯文本不能携带二进制数据</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># 所以图片的二进制数据要处理成base64编码</span>
</span></span><span style=display:flex><span>        my_dict[<span style=color:#e6db74>&#39;filedata&#39;</span>] <span style=color:#f92672>=</span> data
</span></span><span style=display:flex><span>        <span style=color:#75715e># 通过dumps函数将字典处理成JSON字符串</span>
</span></span><span style=display:flex><span>        json_str <span style=color:#f92672>=</span> dumps(my_dict)
</span></span><span style=display:flex><span>        <span style=color:#75715e># 发送JSON字符串</span>
</span></span><span style=display:flex><span>        client<span style=color:#f92672>.</span>send(json_str<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>        client<span style=color:#f92672>.</span>close()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()
</span></span><span style=display:flex><span><span style=color:#f92672>**********************************************</span>
</span></span><span style=display:flex><span><span style=color:#75715e>##   客户端  #############</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> socket <span style=color:#f92672>import</span> socket
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> json <span style=color:#f92672>import</span> loads
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> base64 <span style=color:#f92672>import</span> b64decode
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    client <span style=color:#f92672>=</span> socket()
</span></span><span style=display:flex><span>    client<span style=color:#f92672>.</span>connect((<span style=color:#e6db74>&#39;10.7.152.69&#39;</span>, <span style=color:#ae81ff>5566</span>))
</span></span><span style=display:flex><span>    <span style=color:#75715e># 定义一个保存二进制数据的对象</span>
</span></span><span style=display:flex><span>    in_data <span style=color:#f92672>=</span> bytes()
</span></span><span style=display:flex><span>    <span style=color:#75715e># 由于不知道服务器发送的数据有多大每次接收1024字节</span>
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>recv(<span style=color:#ae81ff>1024</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> data:
</span></span><span style=display:flex><span>        <span style=color:#75715e># 将收到的数据拼接起来</span>
</span></span><span style=display:flex><span>        in_data <span style=color:#f92672>+=</span> data
</span></span><span style=display:flex><span>        data <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>recv(<span style=color:#ae81ff>1024</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 将收到的二进制数据解码成JSON字符串并转换成字典</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># loads函数的作用就是将JSON字符串转成字典对象</span>
</span></span><span style=display:flex><span>    my_dict <span style=color:#f92672>=</span> loads(in_data<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>    filename <span style=color:#f92672>=</span> my_dict[<span style=color:#e6db74>&#39;filename&#39;</span>]
</span></span><span style=display:flex><span>    filedata <span style=color:#f92672>=</span> my_dict[<span style=color:#e6db74>&#39;filedata&#39;</span>]<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;c:/images/&#39;</span> <span style=color:#f92672>+</span> filename, <span style=color:#e6db74>&#39;wb&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>        <span style=color:#75715e># 将base64格式的数据解码成二进制数据并写入文件</span>
</span></span><span style=display:flex><span>        f<span style=color:#f92672>.</span>write(b64decode(filedata))
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;图片已保存.&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#1-网络介绍>1. 网络介绍</a><ul><li><a href=#1-1-tcp---可靠传输协议>1. 1 TCP 可靠传输协议</a></li><li><a href=#12-udp>1.2 UDP</a></li></ul></li><li><a href=#2--应用实例--网络扒图片>2. 应用实例 网络扒图片</a></li><li><a href=#3-网络编程--服务器--客户端>3. 网络编程 服务器 客户端</a><ul><li><a href=#3-1-套接字编程---socket>3 .1 套接字编程 socket()</a></li><li><a href=#emample--用服务器与客户端结合实现猜数字游戏>emample 用服务器与客户端结合实现猜数字游戏</a></li></ul></li><li><a href=#4-base-64-编码>4. BASE 64 编码</a><ul><li><a href=#41-处理方法--示例>4.1 处理方法 示例</a></li></ul></li></ul></nav></div></aside></main></body></html>